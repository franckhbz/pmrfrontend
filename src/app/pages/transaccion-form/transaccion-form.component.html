<div class="container my-5">
  <h1 class="text-center">Registrar Transacción</h1>

  <form [formGroup]="transaccionForm" (ngSubmit)="onSubmit()">
    <div class="row mb-3">
      <div class="col-md-6">
        <label for="idEstacion" class="form-label">ID de Estación</label>
        <input
          type="number"
          id="idEstacion"
          formControlName="idEstacion"
          class="form-control"
        />
        <div *ngIf="transaccionForm.get('idEstacion')?.invalid && transaccionForm.get('idEstacion')?.touched" class="text-danger">
          Este campo es obligatorio.
        </div>
      </div>
      <div class="col-md-6">
        <label for="idTren" class="form-label">ID de Tren</label>
        <input
          type="number"
          id="idTren"
          formControlName="idTren"
          class="form-control"
        />
        <div *ngIf="transaccionForm.get('idTren')?.invalid && transaccionForm.get('idTren')?.touched" class="text-danger">
          Este campo es obligatorio.
        </div>
      </div>
    </div>

    <div class="mb-3">
      <label for="descripcion" class="form-label">Descripción</label>
      <textarea
        id="descripcion"
        formControlName="descripcion"
        rows="3"
        class="form-control"
      ></textarea>
      <div *ngIf="transaccionForm.get('descripcion')?.invalid && transaccionForm.get('descripcion')?.touched" class="text-danger">
        Este campo es obligatorio.
      </div>
    </div>

    <div class="mb-3">
      <label for="foto" class="form-label">Foto</label>
      <input type="file" id="foto" (change)="onFileChange($event)" class="form-control" />
      <div *ngIf="transaccionForm.get('foto')?.invalid && transaccionForm.get('foto')?.touched" class="text-danger">
        Este campo es obligatorio.
      </div>
    </div>

    <div class="mb-3">
      <label for="idDestino" class="form-label">ID de Destino</label>
      <input
        type="number"
        id="idDestino"
        formControlName="idDestino"
        class="form-control"
      />
      <div *ngIf="transaccionForm.get('idDestino')?.invalid && transaccionForm.get('idDestino')?.touched" class="text-danger">
        Este campo es obligatorio.
      </div>
    </div>

    <div class="d-flex justify-content-center">
      <button type="submit" class="btn btn-success">Guardar</button>
      <button type="button" class="btn btn-secondary ms-3" (click)="resetForm()">Limpiar</button>
    </div>

    <div class="mt-3 text-center">
      <p class="text-success" *ngIf="successMessage">{{ successMessage }}</p>
      <p class="text-danger" *ngIf="errorMessage">{{ errorMessage }}</p>
    </div>
  </form>
</div>
